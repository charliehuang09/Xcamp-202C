#include <iostream>
#include <vector>
#include <algorithm>
#include <set>
#include <stdio.h>
#include <stack>
using namespace std;
void print(stack<int> input){
    if (input.size() == 0){
        cout << 0 << "\n";
        return;
    }
    int largest = -1;
    while (!input.empty()){
        if (largest < input.top()){
            largest = input.top();
        }
        input.pop();
    }
    cout << largest << "\n";
}
int main() {
    int length;
    cin >> length;
    stack<int> cargo;
    int t;
    for (int i = 0; i < length; i++){
        cin >> t;
        if (t == 0){
            cin >> t;
            cargo.push(t);
            continue;
        }
        if (t == 1 && cargo.size() > 0){
            cargo.pop();
            continue;
        }
        if (t == 2){
            print(cargo);
        }
    }
}
/*
5
0 3
0 4
1
1
0 4
 */
/*
13
0 1
0 2
2
0 4
0 2
2
1
2
1
1
2
1
2
 */